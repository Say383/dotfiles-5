#+TITLE: Commands
#+SUBTITLE: Personal commands
#+AUTHOR: Ben Mezger
#+DATE: <2020-08-07 Fri>

#+NAME: Restore files with chezmoi
#+BEGIN_SRC shell :dir ~/ :cache no :results replace code
cd $dir
chezmoi apply -v
#+END_SRC

#+RESULTS: Restore files with chezmoi
#+begin_src shell
#+end_src


#+NAME: View difference between files
#+BEGIN_SRC shell :dir ~/ :cache no :results replace code
cd $dir
chezmoi diff
#+END_SRC

#+RESULTS: View difference between files
#+begin_src shell
#+end_src

#+NAME: Initialize chezmoi repository
#+BEGIN_SRC shell :dir ~/ :cache no :results replace code
cd $dir
chezmoi init ~/dotfiles
#+END_SRC

#+RESULTS: Initialize chezmoi repository
#+begin_src shell
#+end_src

#+NAME: Doom compile core and private modules
#+BEGIN_SRC shell :dir ~/ :cache no :results replace code
.emacs.d/bin/doom compile :core :private lang/org lang/python tools lang/yaml tools/lsp
#+END_SRC

#+NAME: Speed up keyboard
#+BEGIN_SRC :cache no
xset r rate 180 40
#+END_SRC

#+NAME: Compiling Emacs 28 on OSX with native json support
#+BEGIN_SRC :cache no
brew install emacs-plus@28 --with-jansson
#+END_SRC

#+NAME: Pacman list installed packages without AUR
#+BEGIN_SRC sh :results file :file pkgs.pacman :output-dir ./roles/archlinux/tasks/
pacman -Qqen
#+END_SRC

#+RESULTS: Pacman list installed packages without AUR
[[file:./roles/archlinux/tasks/pkgs.pacman]]

#+NAME: Pacman list AUR packages
#+BEGIN_SRC sh :results file :file pkgs.aur :output-dir ./roles/archlinux/tasks/
pacman -Qqem
#+END_SRC

#+RESULTS: Pacman list AUR packages
[[file:./roles/archlinux/tasks/pkgs.aur]]

#+RESULTS: Pacman list
[[file:./roles/archlinux/tasks/pkgs.aur]]

* Sourcing env with i3
For some reason, i3 is sourcing =.xprofile= instead of =xinitrc=, so for getting
Github plugin for the [[file:dot_config/i3/status.toml][i3status-rust]] you need to set up a variable in your
=.xprofile=

#+BEGIN_SRC shell
export I3RS_GITHUB_TOKEN="your-github-token"
#+END_SRC
